# منصة فكرة — يعمل محلياً أو على Vercel + Supabase
# للتفاصيل: docs/ENV-CHECKLIST.md و docs/VERCEL-DATABASE-FIX.md

# ============== قاعدة البيانات (مطلوب) ==============
# PostgreSQL. محلي: أي رابط postgresql://...
# على Vercel: يجب استخدام وضع Transaction (منفذ 6543) مع ?pgbouncer=true في نهاية الرابط.
# مثال محلي: postgresql://user:password@localhost:5432/think_db
# مثال Vercel: postgres://postgres:PASSWORD@db.xxxxx.supabase.co:6543/postgres?pgbouncer=true
DATABASE_URL="postgresql://user:password@localhost:5432/think_db"

# ============== NextAuth (مطلوب) ==============
NEXTAUTH_SECRET="your-secret-key-here-minimum-32-characters"
NEXTAUTH_URL="http://localhost:3000"

# ============== Supabase (عند استخدام المصادقة/التخزين على Vercel) ==============
# للتشغيل المحلي بدون Supabase: لا تضف هذه المتغيرات أو اترك NEXT_PUBLIC_USE_SUPABASE_AUTH غير مضبوط.
# إذا NEXT_PUBLIC_USE_SUPABASE_AUTH=true فيجب وجود NEXT_PUBLIC_SUPABASE_URL و NEXT_PUBLIC_SUPABASE_ANON_KEY.
# NEXT_PUBLIC_SUPABASE_URL=
# NEXT_PUBLIC_SUPABASE_ANON_KEY=
# SUPABASE_SERVICE_ROLE_KEY=
# USE_SUPABASE_AUTH=          # اختياري؛ يكفي NEXT_PUBLIC_USE_SUPABASE_AUTH
# NEXT_PUBLIC_USE_SUPABASE_AUTH=false   # false = NextAuth فقط، true = Supabase Auth
# كلمة مرور مؤقتة لسكريبت ربط الحسابات الموجودة في User مع Supabase Auth فقط (scripts/sync-prisma-users-to-supabase-auth.ts)
# MIGRATION_TEMP_PASSWORD=

# ============== اختياري ==============
# لتأمين GET /api/cron/purge-archived-plans — استخدم ?key=CRON_SECRET
# CRON_SECRET="your-random-secret"
# لتأمين GET /api/system/health — استخدم هيدر x-health-secret أو ?secret=VALUE
# HEALTH_CHECK_SECRET="your-random-secret"
# تعطيل التحقق من الجلسة لـ GET /api/messages/[orderId] مؤقتاً للتجربة فقط (لا تستخدمه في الإنتاج)
# SKIP_MESSAGES_AUTH=true

NODE_ENV="development"
